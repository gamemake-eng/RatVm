#include <stdio.h>
#include "vm.h"

int main() {
	RatVm vm;
	ratvm_new(&vm, 0x30);
	//pshl 0x11 call; pshl 0x11 call; pshl 0x11 call; pshl 0x11 call; hlt; %test pshl 0x42; dst 0x19; ret;
	Uint16 test[] = {0x10, 0x00, 0x11, 0x30, 0x10, 0x00, 0x11, 0x30, 0x10, 0x00, 0x11, 0x30, 0x10, 0x00, 0x11, 0x30,  0xff, 0x00, 0x10, 0x00, 0x42, 0x44, 0x00, 0x19, 0x31};
	mem_load(&vm.memory, test, 0);
	ratvm_run(&vm);
	
	return 0;
}
